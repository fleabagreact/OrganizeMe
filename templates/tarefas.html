{% extends "layout.html" %}
{% block title %}Tarefas{% endblock %}

{% block content %}
<h2>Suas Tarefas</h2>
<a href="{{ url_for('adicionar_tarefa') }}" class="btn btn-primary">Adicionar Tarefa</a>

<div class="filtro-container">
    <div>
        <label for="categoria" class="filtro-label">Categoria:</label>
        <select id="categoria" name="categoria" class="filtro-select">
            <option value="">Todas</option>
            {% for categoria in categoria_tarefas %}
                <option value="{{ categoria.id_categoria }}">{{ categoria.descricao }}</option>
            {% endfor %}
        </select>
    </div>
    <div>
        <label for="data_inicio" class="filtro-label">Data In√≠cio:</label>
        <input type="date" id="data_inicio" name="data_inicio" class="filtro-select">
    </div>
    <div>
        <label for="data_fim" class="filtro-label">Data Fim:</label>
        <input type="date" id="data_fim" name="data_fim" class="filtro-select">
    </div>
    <button type="submit" class="filtro-button">Filtrar</button>
</div>

<ul>
    {% for tarefa in tarefas %}
    <li>
        <div>
            <strong>{{ tarefa.titulo }}</strong> - {{ tarefa.data_limite }}
            <span>{{ tarefa.status }}</span>
        </div>
        <div>
            <a href="{{ url_for('atualizar_tarefa', tarefa_id=tarefa.id_tarefa) }}">Editar</a> |
            <form action="{{ url_for('excluir_tarefa', tarefa_id=tarefa.id_tarefa) }}" method="POST" style="display:inline;">
                <button type="submit" class="btn btn-danger">Excluir</button>
            </form>
        </div>
    </li>
    {% endfor %}
</ul>

{% endblock %}